{% extends 'page.html' %}

{% block title %}{{post.title|capitalize}}{% endblock %}
{% block extracss %}
<meta name="description" content="{{post.description}}">
<meta name="keywords" content="{{post.tags|join(', ')}}">
<meta name="author" content="{{post.author}}">
<link rel="stylesheet" href="{{ url_for('theme.static', filename='yue.css') }}">
{% include '_partials/highlight.html' %}
<link rel="stylesheet" href="{{ url_for('theme.static', filename='article.css')}}">

<link rel="stylesheet" href="https://cdn.bootcss.com/photoswipe/4.1.2/photoswipe.min.css">
<link rel="stylesheet" href="https://cdn.bootcss.com/photoswipe/4.1.2/default-skin/default-skin.min.css">
{% endblock %}

{% block navstyle %}navbar-dark{% endblock %}
{% block pagehead %}
  <meta itemscope="" itemprop="pageEntity" itemtype="https://schema.org/WebPage" itemid="{{request.url}}">
  <section class="container-fluid post-cover" {% if post.image %}style="background-image:url({{post.image}});"{% endif %}>
  </section>
{% endblock %}

{% block leftside %}
  {% if toc %}
  <div class="post-toc sticky-top">
    <div class="toc-head">
      {{_('TABLE OF CONTENTS')}}
    </div>
    {{ toc | safe }}
  </div>
  {% endif %}
{% endblock %}

{% block xl_class %} post-center{% endblock %}
{% block centercontent %}
<article id="post-container" itemscope itemtype="http://schema.org/Article">
  <div class="d-flex d-xs-block justify-content-between align-items-center">
    <div class="post-meta">
      <time datetime="{{post.date}}" itemprop="pubDate">{{ moment(post.date).format('ll') }}</time>
      {% if post.author %}
      <span class="post-author" itemprop="author">{{post.author}}</span>
      {% endif %}
    </div>
    <div class="post-tags" itemprop="keywords">
      {% for tag in post.tags %}
        <a href="{{tag.url}}">{{tag.text}}</a>
      {% endfor %}
    </div>
  </div>
  <h1 class="post-title" itemprop="title">{{post.title}}</h1>
  <div class="post-subtitle" itemprop="subtitle">{% if post.description %}{{post.description}}{% endif %}</div>
  <div class="post-text yue" itemprop="content">
    {{ content | safe }}
  </div>
  {% if post.last_modified %}
  <div class="last-modified">
    {{_('Last edited')}} <time datetime="{{post.last_modified}}">{{moment(post.last_modified).fromNow()}}</time>
  </div>
  {% endif %}
</article>
{% endblock %}

{% block additional %}
  {% include '_partials/pswp.html' %}
  {% include '_partials/disqus.html' %}
  <a id="totop" title="Return to the top" class="invisible" href="javascript:void(0)"><i class="fa fa-fw fa-arrow-up"></i></a>
{% endblock %}

{% block extrajs %}
  <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-574571fdae7f0521"></script>
  <script src="https://cdn.bootcss.com/photoswipe/4.1.2/photoswipe.min.js" charset="utf-8"></script>
  <script src="https://cdn.bootcss.com/photoswipe/4.1.2/photoswipe-ui-default.min.js" charset="utf-8"></script>
  {% include '_partials/flogjs.html' %}
{% endblock %}
